{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kim\\\\Documents\\\\GitHub\\\\recipe-keeps\\\\client\\\\src\\\\components\\\\Signup.js\";\nimport React from 'react';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { login, signup, userInfo } from '../redux/actions'; //Signup can only be accessed if there is no token\n\nclass SignUp extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.myLoginSubmit = event => {\n      //checks if inputs are not empty\n      event.preventDefault();\n      var email = document.forms[\"loginForm\"][\"email\"].value;\n      var pass = document.forms[\"loginForm\"][\"password\"].value;\n\n      if (email === \"\" || pass === \"\") {\n        alert(\"Field cannot be empty\");\n      } else {\n        this.login(email, pass);\n      }\n    };\n\n    this.myRegisterSubmit = event => {\n      //checks if inputs are not empty\n      event.preventDefault();\n      var email = document.forms[\"signupForm\"][\"email\"].value;\n      var pass = document.forms[\"signupForm\"][\"password\"].value;\n      var confirmpass = document.forms[\"signupForm\"][\"confirmPassword\"].value;\n\n      if (email === \"\" || pass === \"\") {\n        alert(\"Field cannot be empty\");\n      }\n\n      if (pass !== confirmpass) {\n        alert(\"Passwords do not match\");\n      } else {\n        this.register(email, pass);\n      }\n    };\n\n    this.state = {\n      new_user: false,\n      info_valid: false\n    };\n    this.newUser = this.newUser.bind(this);\n    this.login = this.login.bind(this);\n    this.register = this.register.bind(this);\n    this.myLoginSubmit = this.myLoginSubmit.bind(this);\n    this.myRegisterSubmit = this.myRegisterSubmit.bind(this);\n  }\n\n  newUser() {\n    //switches from login to signup\n    this.setState({\n      new_user: !this.state.new_user\n    });\n  }\n\n  async login(email, password) {\n    console.log(\"here it's the login function\");\n    await this.props.login(email, password);\n    console.log(this.props.loggedIn);\n\n    if (this.props.loggedIn) {\n      console.log(\"this.props.loggedIn \" + this.props.loggedIn);\n      console.log(\"login function going to props.userInfo\");\n      await this.props.userInfo(); //loads the user info to redux\n    } else {\n      console.log('invalid login info');\n    }\n  }\n\n  async register(email, password) {\n    //await the registration\n    console.log(\"here is the register function\");\n    await this.props.signup(email, password); //if signup successful call the login with the same info\n    //else show the error\n\n    console.log(\"this.props.register \" + this.props.registered);\n\n    if (this.props.registered) {\n      this.login(email, password);\n    } else {\n      console.log(\"Cannot register at this time\");\n    }\n  }\n\n  render() {\n    if (this.props.loggedIn) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/viewRecipes\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 20\n        }\n      });\n    }\n\n    if (this.state.new_user) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h1\", {\n        className: \"landingElement\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 21\n        }\n      }, \"Login\"), /*#__PURE__*/React.createElement(Form, {\n        name: \"loginForm\",\n        onSubmit: this.myLoginSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Form.Group, {\n        as: Row,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        column: true,\n        sm: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 25\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(Col, {\n        sm: \"10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"email\",\n        placeholder: \"Enter Email\",\n        name: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Form.Group, {\n        as: Row,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Label, {\n        column: true,\n        sm: \"2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 25\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(Col, {\n        sm: \"10\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Form.Control, {\n        type: \"password\",\n        placeholder: \"Enter Password\",\n        name: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }\n      }))), /*#__PURE__*/React.createElement(Button, {\n        className: \"btn-login\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 25\n        }\n      }, \"Login\")), /*#__PURE__*/React.createElement(Button, {\n        variant: \"link\",\n        onClick: () => this.newUser(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }\n      }, \"New to RecipeKeeps? Sign Up\"));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"landingElement\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, \"Sign Up\"), /*#__PURE__*/React.createElement(Form, {\n      name: \"signupForm\",\n      onSubmit: this.myRegisterSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"email\",\n      placeholder: \"Enter Email\",\n      name: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 21\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Enter Password\",\n      name: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Group, {\n      as: Row,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Label, {\n      column: true,\n      sm: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 21\n      }\n    }, \"Confirm Password\"), /*#__PURE__*/React.createElement(Col, {\n      sm: \"10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Form.Control, {\n      type: \"password\",\n      placeholder: \"Confirm Password\",\n      name: \"confirmPassword\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(Button, {\n      variant: \"create\",\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 21\n      }\n    }, \"Create Account\")), /*#__PURE__*/React.createElement(Button, {\n      variant: \"link\",\n      onClick: () => this.newUser(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }, \"Already have an account? Login \"));\n  }\n\n}\n\nconst mapDispatchToProps = {\n  login,\n  userInfo,\n  signup\n};\n\nconst mapStateToProps = state => ({\n  loggedIn: state.logged_in,\n  registered: state.registered\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp);","map":{"version":3,"sources":["C:/Users/Kim/Documents/GitHub/recipe-keeps/client/src/components/Signup.js"],"names":["React","Form","Button","Row","Col","Redirect","connect","login","signup","userInfo","SignUp","Component","constructor","props","myLoginSubmit","event","preventDefault","email","document","forms","value","pass","alert","myRegisterSubmit","confirmpass","register","state","new_user","info_valid","newUser","bind","setState","password","console","log","loggedIn","registered","render","mapDispatchToProps","mapStateToProps","logged_in"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\n\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from 'react-redux';\r\nimport {login, signup, userInfo} from '../redux/actions';\r\n\r\n//Signup can only be accessed if there is no token\r\nclass SignUp extends React.Component{\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            new_user: false,\r\n            info_valid:false,\r\n        }\r\n        this.newUser = this.newUser.bind(this);\r\n        this.login = this.login.bind(this);\r\n        this.register = this.register.bind(this);\r\n        this.myLoginSubmit = this.myLoginSubmit.bind(this);\r\n        this.myRegisterSubmit = this.myRegisterSubmit.bind(this);\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    newUser(){\r\n    //switches from login to signup\r\n        this.setState({\r\n            new_user: !(this.state.new_user)\r\n        })\r\n    }\r\n\r\n\r\n\r\n    async login(email, password){\r\n        console.log(\"here it's the login function\");\r\n        await this.props.login(email,password);\r\n        console.log(this.props.loggedIn);\r\n        if(this.props.loggedIn){\r\n            console.log(\"this.props.loggedIn \"+ this.props.loggedIn);\r\n            console.log(\"login function going to props.userInfo\");\r\n            await this.props.userInfo();//loads the user info to redux\r\n        }\r\n        else{\r\n            console.log('invalid login info')\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    async register(email, password){\r\n        //await the registration\r\n        console.log(\"here is the register function\");\r\n        await this.props.signup(email,password);\r\n        //if signup successful call the login with the same info\r\n        //else show the error\r\n        console.log(\"this.props.register \"+ this.props.registered);\r\n        if(this.props.registered){\r\n            this.login(email,password);\r\n        }\r\n        else{\r\n            console.log(\"Cannot register at this time\");\r\n        }\r\n\r\n    }\r\n\r\n    myLoginSubmit = (event) => {\r\n        //checks if inputs are not empty\r\n        event.preventDefault();\r\n        var email = document.forms[\"loginForm\"][\"email\"].value;\r\n        var pass = document.forms[\"loginForm\"][\"password\"].value;\r\n\r\n        if(email===\"\" || pass===\"\"){\r\n            alert(\"Field cannot be empty\");\r\n        }\r\n        else{\r\n            this.login(email,pass);\r\n        }\r\n      }\r\n\r\n\r\n\r\n      myRegisterSubmit = (event) => {\r\n        //checks if inputs are not empty\r\n        event.preventDefault();\r\n        var email = document.forms[\"signupForm\"][\"email\"].value;\r\n        var pass = document.forms[\"signupForm\"][\"password\"].value;\r\n        var confirmpass = document.forms[\"signupForm\"][\"confirmPassword\"].value;\r\n\r\n\r\n        if(email===\"\" || pass===\"\"){\r\n            alert(\"Field cannot be empty\");\r\n        }\r\n        if(pass !== confirmpass){\r\n            alert(\"Passwords do not match\");\r\n        }\r\n        else{\r\n            this.register(email,pass);\r\n        }\r\n      }\r\n\r\n\r\n\r\n    render(){\r\n        if(this.props.loggedIn){\r\n            return <Redirect to=\"/viewRecipes\"/>\r\n        }\r\n        if (this.state.new_user){\r\n            return(\r\n                <div className=\"form\">\r\n                    <h1 className=\"landingElement\">Login</h1>\r\n                    <Form name=\"loginForm\" onSubmit={this.myLoginSubmit}>\r\n                        <Form.Group as={Row}>\r\n                        <Form.Label column sm=\"2\">Email</Form.Label>\r\n                        <Col sm=\"10\">\r\n                        <Form.Control type=\"email\" placeholder=\"Enter Email\" name=\"email\"></Form.Control>\r\n                        </Col>\r\n                        </Form.Group>\r\n\r\n                        <Form.Group as={Row}>\r\n                        <Form.Label column sm=\"2\">Password</Form.Label>\r\n                        <Col sm=\"10\">\r\n                        <Form.Control type=\"password\" placeholder=\"Enter Password\" name=\"password\"></Form.Control>\r\n                        </Col>\r\n                        </Form.Group>\r\n\r\n                        <Button className=\"btn-login\" type=\"submit\">Login</Button>\r\n                    </Form>\r\n                    <Button variant=\"link\" onClick={()=>this.newUser()}>New to RecipeKeeps? Sign Up</Button>\r\n                </div>\r\n            )\r\n        }\r\n        return(\r\n            <div className=\"form\">\r\n                <h1 className=\"landingElement\">Sign Up</h1>\r\n                <Form name=\"signupForm\" onSubmit={this.myRegisterSubmit}>\r\n                    <Form.Group as={Row}>\r\n                    <Form.Label column sm=\"2\">Email</Form.Label>\r\n                    <Col sm=\"10\">\r\n                    <Form.Control type=\"email\" placeholder=\"Enter Email\" name=\"email\"></Form.Control>\r\n                    </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Row}>\r\n                    <Form.Label column sm=\"2\">Password</Form.Label>\r\n                    <Col sm=\"10\">\r\n                    <Form.Control type=\"password\" placeholder=\"Enter Password\" name=\"password\"></Form.Control>\r\n                    </Col>\r\n                    </Form.Group>\r\n\r\n                    <Form.Group as={Row}>\r\n                    <Form.Label column sm=\"2\">Confirm Password</Form.Label>\r\n                    <Col sm=\"10\">\r\n                    <Form.Control type=\"password\" placeholder=\"Confirm Password\" name=\"confirmPassword\"></Form.Control>\r\n                    </Col>\r\n                    </Form.Group>\r\n\r\n                    <Button variant=\"create\" type=\"submit\">Create Account</Button>\r\n                </Form>\r\n                <Button variant=\"link\" onClick={()=>this.newUser()}>Already have an account? Login </Button>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n    login,\r\n    userInfo,\r\n    signup\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedIn: state.logged_in,\r\n    registered: state.registered\r\n})\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(SignUp);"]},"metadata":{},"sourceType":"module"}