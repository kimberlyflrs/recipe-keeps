{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kim\\\\Documents\\\\GitHub\\\\recipe-keeps\\\\client\\\\src\\\\components\\\\PrivateRoute2.js\";\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport store from '../redux/store.js';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { resume } from '../redux/actions';\n\nclass PrivateRoute2 extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: true\n    };\n  }\n\n  async componentDidMount() {\n    await resume(localStorage.getItem('token'));\n    console.log('aqui');\n    console.log(this.props.loggedIn);\n\n    if (this.props.loggedIn) {\n      this.setState({\n        loading: false\n      });\n    }\n  }\n\n  render() {\n    const {\n      component: Component,\n      ...rest\n    } = this.props;\n\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 14\n        }\n      }, \"LOADING\");\n    } else {\n      return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n        render: props => /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 11\n          }\n        }, !this.props.loggedIn && /*#__PURE__*/React.createElement(Redirect, {\n          to: {\n            pathname: '/landing',\n            state: {\n              from: this.props.location\n            }\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 38\n          }\n        }), /*#__PURE__*/React.createElement(Component, Object.assign({}, this.props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 13\n          }\n        }))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 9\n        }\n      }));\n    }\n  }\n\n}\n\nconst mapDispatchToProps = {\n  resume\n};\n\nconst mapStateToProps = state => ({\n  loggedIn: state.logged_in\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PrivateRoute2);","map":{"version":3,"sources":["C:/Users/Kim/Documents/GitHub/recipe-keeps/client/src/components/PrivateRoute2.js"],"names":["React","Route","Redirect","store","axios","connect","resume","PrivateRoute2","Component","state","loading","componentDidMount","localStorage","getItem","console","log","props","loggedIn","setState","render","component","rest","pathname","from","location","mapDispatchToProps","mapStateToProps","logged_in"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,MAAR,QAAqB,kBAArB;;AAGA,MAAMC,aAAN,SAA4BP,KAAK,CAACQ,SAAlC,CAA4C;AAAA;AAAA;AAAA,SAC1CC,KAD0C,GAClC;AACNC,MAAAA,OAAO,EAAE;AADH,KADkC;AAAA;;AAK1C,QAAMC,iBAAN,GAA0B;AACxB,UAAML,MAAM,CAACM,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CAAZ;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWC,QAAvB;;AACA,QAAG,KAAKD,KAAL,CAAWC,QAAd,EAAuB;AACnB,WAAKC,QAAL,CAAc;AACVR,QAAAA,OAAO,EAAC;AADE,OAAd;AAGH;AACF;;AAGDS,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA,SAAS,EAAEZ,SAAb;AAAwB,SAAGa;AAA3B,QAAoC,KAAKL,KAA/C;;AACA,QAAI,KAAKP,KAAL,CAAWC,OAAf,EAAwB;AACtB,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAP;AACD,KAFD,MAEO;AACL,0BACE,oBAAC,KAAD,oBAAWW,IAAX;AAAiB,QAAA,MAAM,EAAEL,KAAK,iBAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,CAAC,KAAKA,KAAL,CAAWC,QAAZ,iBAAwB,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAE;AAAEK,YAAAA,QAAQ,EAAE,UAAZ;AAAwBb,YAAAA,KAAK,EAAE;AAAEc,cAAAA,IAAI,EAAE,KAAKP,KAAL,CAAWQ;AAAnB;AAA/B,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAD3B,eAEE,oBAAC,SAAD,oBAAe,KAAKR,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,CADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AASD;AACF;;AAhCyC;;AAoC5C,MAAMS,kBAAkB,GAAG;AACvBnB,EAAAA;AADuB,CAA3B;;AAIA,MAAMoB,eAAe,GAAGjB,KAAK,KAAK;AAC9BQ,EAAAA,QAAQ,EAAER,KAAK,CAACkB;AADc,CAAL,CAA7B;;AAIA,eAAetB,OAAO,CAACqB,eAAD,EAAiBD,kBAAjB,CAAP,CAA4ClB,aAA5C,CAAf","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport store from '../redux/store.js';\r\nimport axios from 'axios';\r\nimport {connect} from 'react-redux';\r\nimport {resume} from '../redux/actions';\r\n\r\n\r\nclass PrivateRoute2 extends React.Component {\r\n  state = {\r\n    loading: true,\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await resume(localStorage.getItem('token'));\r\n    console.log('aqui');\r\n    console.log(this.props.loggedIn);\r\n    if(this.props.loggedIn){\r\n        this.setState({\r\n            loading:false,\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const { component: Component, ...rest } = this.props;\r\n    if (this.state.loading) {\r\n      return <div>LOADING</div>;\r\n    } else {\r\n      return (\r\n        <Route {...rest} render={props => (\r\n          <div>\r\n            {!this.props.loggedIn && <Redirect to={{ pathname: '/landing', state: { from: this.props.location } }} />}\r\n            <Component {...this.props} />\r\n          </div>\r\n          )}\r\n        />\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = {\r\n    resume\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedIn: state.logged_in,\r\n})\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(PrivateRoute2);"]},"metadata":{},"sourceType":"module"}