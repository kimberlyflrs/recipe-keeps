{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kim\\\\Documents\\\\GitHub\\\\recipe-keeps\\\\client\\\\src\\\\components\\\\PrivateRoute2.js\";\nimport React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport store from '../redux/store.js';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { resume } from '../redux/actions';\n\nclass PrivateRoute2 extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loading: true,\n      isAuthenticated: false\n    };\n  }\n\n  componentDidMount() {\n    resume(localStorage.getItem('token'));\n\n    if (this.props.logged_in) {\n      this.setState({\n        loading: false,\n        isAuthenticated: true\n      });\n    }\n  }\n\n  render() {\n    const {\n      component: Component,\n      ...rest\n    } = this.props;\n\n    if (this.state.loading) {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 14\n        }\n      }, \"LOADING\");\n    } else {\n      return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n        render: props => /*#__PURE__*/React.createElement(\"div\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 11\n          }\n        }, !this.state.isAuthenticated && /*#__PURE__*/React.createElement(Redirect, {\n          to: {\n            pathname: '/login',\n            state: {\n              from: this.props.location\n            }\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 45\n          }\n        }), /*#__PURE__*/React.createElement(Component, Object.assign({}, this.props, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 13\n          }\n        }))),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 9\n        }\n      }));\n    }\n  }\n\n}\n\nconst mapDispatchToProps = {\n  resume\n};\n\nconst mapStateToProps = state => ({\n  loggedIn: state.logged_in\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PrivateRoute2);","map":{"version":3,"sources":["C:/Users/Kim/Documents/GitHub/recipe-keeps/client/src/components/PrivateRoute2.js"],"names":["React","Route","Redirect","store","axios","connect","resume","PrivateRoute2","Component","state","loading","isAuthenticated","componentDidMount","localStorage","getItem","props","logged_in","setState","render","component","rest","pathname","from","location","mapDispatchToProps","mapStateToProps","loggedIn"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,QAAhB,QAAgC,kBAAhC;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,MAAR,QAAqB,kBAArB;;AAGA,MAAMC,aAAN,SAA4BP,KAAK,CAACQ,SAAlC,CAA4C;AAAA;AAAA;AAAA,SAC1CC,KAD0C,GAClC;AACNC,MAAAA,OAAO,EAAE,IADH;AAENC,MAAAA,eAAe,EAAE;AAFX,KADkC;AAAA;;AAM1CC,EAAAA,iBAAiB,GAAG;AAClBN,IAAAA,MAAM,CAACO,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAD,CAAN;;AACA,QAAG,KAAKC,KAAL,CAAWC,SAAd,EAAwB;AACpB,WAAKC,QAAL,CAAc;AACVP,QAAAA,OAAO,EAAC,KADE;AAEVC,QAAAA,eAAe,EAAC;AAFN,OAAd;AAIH;AACF;;AAGDO,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEC,MAAAA,SAAS,EAAEX,SAAb;AAAwB,SAAGY;AAA3B,QAAoC,KAAKL,KAA/C;;AACA,QAAI,KAAKN,KAAL,CAAWC,OAAf,EAAwB;AACtB,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAP;AACD,KAFD,MAEO;AACL,0BACE,oBAAC,KAAD,oBAAWU,IAAX;AAAiB,QAAA,MAAM,EAAEL,KAAK,iBAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,CAAC,KAAKN,KAAL,CAAWE,eAAZ,iBAA+B,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAE;AAAEU,YAAAA,QAAQ,EAAE,QAAZ;AAAsBZ,YAAAA,KAAK,EAAE;AAAEa,cAAAA,IAAI,EAAE,KAAKP,KAAL,CAAWQ;AAAnB;AAA7B,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADlC,eAEE,oBAAC,SAAD,oBAAe,KAAKR,KAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFF,CADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AASD;AACF;;AAhCyC;;AAoC5C,MAAMS,kBAAkB,GAAG;AACvBlB,EAAAA;AADuB,CAA3B;;AAIA,MAAMmB,eAAe,GAAGhB,KAAK,KAAK;AAC9BiB,EAAAA,QAAQ,EAAEjB,KAAK,CAACO;AADc,CAAL,CAA7B;;AAIA,eAAeX,OAAO,CAACoB,eAAD,EAAiBD,kBAAjB,CAAP,CAA4CjB,aAA5C,CAAf","sourcesContent":["import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport store from '../redux/store.js';\r\nimport axios from 'axios';\r\nimport {connect} from 'react-redux';\r\nimport {resume} from '../redux/actions';\r\n\r\n\r\nclass PrivateRoute2 extends React.Component {\r\n  state = {\r\n    loading: true,\r\n    isAuthenticated: false,\r\n  }\r\n\r\n  componentDidMount() {\r\n    resume(localStorage.getItem('token'));\r\n    if(this.props.logged_in){\r\n        this.setState({\r\n            loading:false,\r\n            isAuthenticated:true\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    const { component: Component, ...rest } = this.props;\r\n    if (this.state.loading) {\r\n      return <div>LOADING</div>;\r\n    } else {\r\n      return (\r\n        <Route {...rest} render={props => (\r\n          <div>\r\n            {!this.state.isAuthenticated && <Redirect to={{ pathname: '/login', state: { from: this.props.location } }} />}\r\n            <Component {...this.props} />\r\n          </div>\r\n          )}\r\n        />\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\n\r\nconst mapDispatchToProps = {\r\n    resume\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    loggedIn: state.logged_in,\r\n})\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(PrivateRoute2);"]},"metadata":{},"sourceType":"module"}